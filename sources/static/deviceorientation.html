<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link media="screen" href="webinos-apis.css" type="text/css" rel="stylesheet">
  <script type="text/javascript" src="webinos-apis.js"></script><title>APIs: The device orientation module</title>
</head>

<body id="content" onload="prettyPrint()">
  <div class="api">
     <a href="http://webinos.org"><img src="http://webinos.org/wp-content/uploads/2011/press_releases/webinos_thumb_150x48.png" alt="Webinos Logo"></a>
     <h1 class="head">APIs: The device orientation module</h1>
     <h2 class="head">Webinos Specification</h2>
     <h3>June 2011</h3>
  </div>
   <div><p class="copyright"><small>Â© 2011 webinos consortium, www.webinos.org.</small></p> </div>
<hr>
<h2>Abstract</h2>
<div class="brief"><p>
This document describes the functionality that Webinos devices should implement for retrieving information about the device orientation and motion. 
</p></div>

<div class="toc">
<h2>Table of Contents</h2>
<dl>
  <dt><span class="section"><a href="#introduction">1 - Introduction</a></span> </dt>
  <dt><span class="section"><a href="#api">2 - API</a></span> </dt>
  <dt><span class="section"><a href="#security">3 - Security</a></span> </dt>
  <dt><span class="section"><a href="#webidl">4 - WebIDL</a></span> </dt>
  <dt><span class="bibliography"><a href="#references">References</a></span> </dt>
</dl>
</div>

<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both;"><a name="introduction"></a>1 - Introduction</h2>
</div>
</div>
</div>
<p> This section is INFORMATIVE.<p> 
<p> Webinos is fully committed to the use of Open Standards whenever available. The access to device orientation information is done through the W3C DeviceOrientation event specification.<a href="#ref-deviceorientation" shape=rect>[DEVICEORIENTATION]</a>.<p> 

</div>

<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both;"><a name="api"></a>2 - API</h2>
</div>
</div>
</div>
<p> This section is NORMATIVE.<p> 
<p> Webinos implementations MUST support W3C DeviceOrientation Event Specification <a href="#ref-deviceorientation" shape=rect>[DEVICEORIENTATION]</a>.<p> 
<p> In order to use this API, access to it must be declared in the widget configuration document (i.e. config.xml). This declaration is done through the feature http://www.w3.org/ns/api-perms/deviceorientation. </p>
<p>
Access to this functionality is achieved (as specified by W3C) through two new event types available in the <code>Window</code> object: <code>deviceorientation</code> and <code>devicemotion</code>.
</p>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both;"><a name="security"></a>3 - Security</h2>
</div>
</div>
</div>
<p> This section is NORMATIVE.<p> 
<p>The implementation MUST NOT enable access to this API by default, but only if the declaration is present in the widget configuration document through the appropriate feature tag.</p>

<p>Please note that Webinos Security Framework, depending on its configuration and in the widget level of trust, MAY deny access to this API even if it is declared in the configuration document.</p>
<p> </p>
</div>

<div class="section" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both;"><a name="webidl"></a>4 - WebIDL</h2>
</div>
</div>
</div>
<p> This section is INFORMATIVE.<p> 
<p> For completeness, this specification includes a copy of the WebIDL declaration included in the W3C DeviceOrientation Event specification <a href="#ref-deviceorientation" shape=rect>[DEVICEORIENTATION]</a>. The referred specification includes all the details needed to create a conformant implementation. </p>




<div id="container" ><div ><span class="signatureBlockTitle"><b>DeviceOrientation Interface</b></span><pre class="webidl prettyprint">
interface DeviceOrientationEvent : Event {
    readonly attribute double? alpha;
    readonly attribute double? beta;
    readonly attribute double? gamma;
    readonly attribute boolean absolute;
    void initDeviceOrientationEvent(in DOMString type,
                                    in boolean bubbles,
                                    in boolean cancelable,
                                    in double? alpha,
                                    in double? beta,
                                    in double? gamma,
                                    in boolean absolute);
    };


</div>
</pre>
</div>



<div id="container" ><div ><span class="signatureBlockTitle"><b>Acceleration Interface</b></span><pre class="webidl prettyprint">
    [Callback, NoInterfaceObject]
    interface Acceleration {
    readonly attribute double? x;
    readonly attribute double? y;
    readonly attribute double? z;
    };

</div>
</pre>
</div>


<div id="container" ><div ><span class="signatureBlockTitle"><b>RotationRate Interface</b></span><pre class="webidl prettyprint">
[Callback, NoInterfaceObject]
    interface RotationRate {
    readonly attribute double? alpha;
    readonly attribute double? beta;
    readonly attribute double? gamma;
    };
</div>
</pre>
</div>


<div id="container" ><div ><span class="signatureBlockTitle"><b>DeviceMotionEvent Interface</b></span><pre class="webidl prettyprint">
interface DeviceMotionEvent : Event {
    readonly attribute Acceleration? acceleration;
    readonly attribute Acceleration? accelerationIncludingGravity;
    readonly attribute RotationRate? rotationRate;
    readonly attribute double? interval;
    void initAccelerometerEvent(in DOMString type,
                                in boolean bubbles,
                                in boolean cancelable,
                                in Acceleration? acceleration,
                                in Acceleration? accelerationIncludingGravity,
                                in RotationRate? rotationRate,
                                in double? interval);
    };
</div>
</pre>
</div>


<div class="bibliography">

<div class="titlepage">

<div>

<div>
<h2 class="title"><a name="references"></a>References</h2>
</div>
</div>
</div>
<dl>
  <dt><a id=ref-deviceorientation>[DEVICEORIENTATION]</a></dt>
    <dd>NORMATIVE: DeviceOrientation Event Specification (W3C Working Draft 28 June 2011)
      , see <a href="http://www.w3.org/TR/2011/WD-orientation-event-20110628/">http://www.w3.org/TR/2011/WD-orientation-event-20110628/</a>
    </dd>
</dl>
</div>


</div>
</body>
</html>
